
task downloadZipFile(type: Download) {
    src 'https://drive.google.com/uc?export=download&id=1KQwgC5k0I9qggCFbBRDhl8MrQ0hWwthj'
    dest new File(buildDir, 'tar-gz-file')
    overwrite true
}


task downloadAndUnzipFile(dependsOn: downloadZipFile, type: Copy) {
    // from zipTree(downloadZipFile.dest)
    from tarTree(resources.gzip(downloadZipFile.dest))
    into project.ext.ASSET_DIR
}


task extractModels(type: Copy) {
    dependsOn downloadAndUnzipFile
}

tasks.whenTaskAdded { task ->
    if (task.name == 'assembleDebug') {
        task.dependsOn 'extractModels'
    }
    if (task.name == 'assembleRelease') {
        task.dependsOn 'extractModels'
    }
}
